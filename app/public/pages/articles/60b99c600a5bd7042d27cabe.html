<h1 class="detail-title" style="margin: 8px 0px; padding: 0px; font-size: 32px; font-weight: 400; line-height: 40px; overflow-wrap: break-word; word-break: break-all;"><span class="d-t js-title" style="font-weight: 700;">nodejs搭建服务器之fs模块常用操作</span></h1><p><span class="spacer" style="vertical-align: middle; margin-right: 24px;">2020.07.19 22:42</span>&nbsp;<span class="spacer spacer-2" style="vertical-align: middle; margin-right: 24px;">5996浏览</span></p><p><a class="system-class-recommend" href="https://class.imooc.com/sale/fearchitect" target="_blank" style="outline: 0px; text-decoration-line: none; color: rgb(28, 31, 33); position: relative; width: 592px; height: 104px; margin: 12px auto 0px; background: rgb(248, 250, 252); border: 1px solid rgb(245, 247, 250); border-radius: 8px; display: flex; font-family: &quot;PingFang SC&quot;, 微软雅黑, &quot;Microsoft YaHei&quot;, Helvetica, &quot;Helvetica Neue&quot;, Tahoma, Arial, sans-serif; font-size: 14px; white-space: normal;"><img src="http://img1.sycdn.imooc.com/climg/5fbb773e093a1f8100000000.jpg" alt=""/><p>Web前端架构师</p><p>点击查看</p><p><span class="original-price " style="text-decoration-line: line-through;">¥6680.00</span>&nbsp;<span class="preferential-price" style="font-weight: 600;">4820.00</span>&nbsp;<span class="desc-618">（历史最低价，仅限618活动期间）</span></p></a></p><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.mkdir 创建文件夹</span><br/>参数1 文件夹名称<br/>参数2 异步函数 err === null 表示创建文件夹成功</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.mkdir(&#39;./aaa&#39;,&nbsp;(err)&nbsp;=&gt;&nbsp;{})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.rmdir 删除文件夹</span><br/>参数1 文件夹名称<br/>参数2 异步函数 err === null 表示删除文件夹成功<br/>注意：只能删除空文件夹</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.rmdir(&#39;./aaa&#39;,&nbsp;(err)&nbsp;=&gt;&nbsp;{})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.readdir 读取文件夹</span><br/>参数1 文件夹名称<br/>参数2 异步函数 (err === null 表示读取文件夹成功) (arr 是文件夹下面的文件集合 )</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.readdir(&#39;./aaa&#39;,&nbsp;(err,&nbsp;arr)&nbsp;=&gt;&nbsp;{console.log(arr)})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.appendFile 创建文件</span><br/>参数1 文件合法路径文件名称<br/>参数2 文件内容<br/>参数3 异步函数 err === null 表示创建文件成功</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.appendFile(&#39;./aaa/a.html&#39;,&nbsp;&#39;&lt;h1&gt;哈哈哈&lt;h1&gt;&#39;,(err)&nbsp;=&gt;&nbsp;{})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.unlink 删除文件</span><br/>参数1 文件合法路径文件名称<br/>参数2 异步函数 err === null 表示删除文件成功</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.unlink(&#39;./aaa/a.html&#39;,&nbsp;(err)&nbsp;=&gt;&nbsp;{})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.rename 修改文件名</span><br/>参数1 要修改的文件<br/>参数2 新的文件名<br/>参数3 异步函数 err === null 表示修改文件名成功</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.rename(&#39;./aaa/a.html&#39;,&nbsp;&#39;./aaa/b.html&#39;,(err)&nbsp;=&gt;&nbsp;{})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.readFile 读取文件</span><br/>参数1 要读取的文件名称<br/>参数2 异步函数 (err === null 表示读取文件成功) (data 表示读取的文件内容)</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.readFile(&#39;./aaa/a.html&#39;,&nbsp;(err,&nbsp;data)&nbsp;=&gt;&nbsp;{
	console.log(data.toString())&nbsp;})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs.stat 判断文件的状态</span><br/>参数1 要判断的文件名称<br/>参数2 异步函数 (err === null 表示读取文件成功) (obj 是一个状态对象)</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">fs.stat(&#39;./aaa/a.html&#39;,&nbsp;(err,&nbsp;obj)&nbsp;=&gt;&nbsp;{
	console.log(obj.isDirectory()&nbsp;?&nbsp;&#39;文件夹&#39;&nbsp;:&nbsp;&#39;文件&#39;)})</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">fs模块 删除非空文件夹</span><br/>deldir.js 文件</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">//&nbsp;引入fs模块var&nbsp;fs&nbsp;=&nbsp;require(&#39;fs&#39;);/**
&nbsp;*&nbsp;del&nbsp;可以实现删除所有的非空目录
&nbsp;*&nbsp;@path&nbsp;&nbsp;要删除的文件目录
&nbsp;*&nbsp;思路:
&nbsp;*&nbsp;	-获取所有的文件
&nbsp;*&nbsp;	-循环读取所有文件的状态对象
&nbsp;*&nbsp;	-判断文件的状态
&nbsp;**///&nbsp;提供功能function&nbsp;del(path)&nbsp;{
	//&nbsp;第一步获取path中的文件
	var&nbsp;let&nbsp;=&nbsp;fs.readdirSync(path);
	//&nbsp;遍历数组
	for&nbsp;(let&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;arr.length;&nbsp;i++)&nbsp;{
		//&nbsp;获取状态对象
		let&nbsp;stat&nbsp;=&nbsp;fs.statSync(path&nbsp;+&nbsp;&#39;/&#39;&nbsp;+&nbsp;arr[i]);
		//&nbsp;判断当前文件的状态
		if&nbsp;(stat.isDirectory())&nbsp;{
			//&nbsp;说明是文件夹,&nbsp;递归处理
			del(path&nbsp;+&nbsp;&#39;/&#39;&nbsp;+&nbsp;arr[i]);
		}&nbsp;else&nbsp;{
			//&nbsp;说明是文件,&nbsp;删除文件
			fs.unlinkSync(path&nbsp;+&nbsp;&#39;/&#39;&nbsp;+&nbsp;arr[i]);
			//&nbsp;console.log(&#39;删除了&#39;&nbsp;+&nbsp;path&nbsp;+&nbsp;&#39;/&#39;&nbsp;+&nbsp;arr[i]&nbsp;+&nbsp;&#39;文件&#39;);
		}
	}
	//&nbsp;遍历完成之后删除path
	fs.rmdirSync(path);
	//&nbsp;console.log(&#39;删除了&#39;&nbsp;+&nbsp;path&nbsp;+&nbsp;&#39;文件夹&#39;);}//&nbsp;暴露功能module.exports&nbsp;=&nbsp;del;</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;">在index.js 文件中引入 deldir.js 文件</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">//&nbsp;引入deldir.jslet&nbsp;del&nbsp;=&nbsp;require(&#39;./deldir.js&#39;);//&nbsp;执行方法del(&#39;要删除的文件夹路径&#39;);</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;">控制台运行</p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;">node&nbsp;index.js</pre><p style="margin-top: 0px; padding: 0px; line-height: 32px; overflow-x: auto; text-align: justify; margin-bottom: 24px !important;"><span style="font-style: inherit !important; font-weight: 700 !important; margin-top: 2px;">http与fs模块详细代码</span></p><pre class="language-javascript" style="margin-top: 0px; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 0.92857em; line-height: 1.67; color: rgb(51, 51, 51); word-break: break-all; overflow-wrap: break-word; border-radius: 4px; background-color: rgb(243, 243, 243); position: relative; border: none; overflow: auto; margin-bottom: 24px !important; padding: 0px !important;"><code class="prism language-javascript" style="margin: 0px; font-size: 1em; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; border-radius: 2px; word-break: break-all; line-height: 1.5; border: 1px solid rgb(241, 243, 245); display: block; text-size-adjust: none; overflow-x: auto; padding: 10px !important; color: rgb(7, 17, 27) !important; background-color: rgb(251, 253, 255) !important;"><span class="token keyword" style="font-weight: inherit !important; color: rgb(54, 188, 214);">const</span> http <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=</span> <span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">require</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;http&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// 引入http模块</span><span class="token keyword" style="font-weight: inherit !important; color: rgb(54, 188, 214);">const</span> fs <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=</span> <span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">require</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;fs&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// 引入fs模块</span><span class="token keyword" style="font-weight: inherit !important; color: rgb(54, 188, 214);">const</span> hostname <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=</span> <span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;127.0.0.1&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">;</span> <span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">//定义主机名</span><span class="token keyword" style="font-weight: inherit !important; color: rgb(54, 188, 214);">const</span> port <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=</span> <span class="token number" style="font-weight: inherit !important; color: rgb(174, 129, 255);">3000</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">;</span> &nbsp;<span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">//定义端口号</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.mkdir 创建文件夹 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">mkdir</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.rmdir 删除文件夹 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">rmdir</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.readdir 读取文件夹 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">readdir</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> arr<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span>console<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">log</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>arr<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.appendFile 创建文件 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">appendFile</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa/a.html&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;&lt;h1&gt;哈哈哈&lt;h1&gt;&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.rename 修改文件名 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">rename</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa/a.html&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa/b.html&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.unlink 删除文件 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">unlink</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa/a.html&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.readFile 读取文件 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">readFile</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa/a.html&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> data<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span> console<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">log</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>data<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">toString</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// fs.stat 判断文件的状态 </span>fs<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">stat</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;./aaa/a.html&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>err<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> obj<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span>console<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">log</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>obj<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">isDirectory</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">?</span> <span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;文件夹&#39;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">:</span> <span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;文件&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token keyword" style="font-weight: inherit !important; color: rgb(54, 188, 214);">const</span> server <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=</span> http<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">createServer</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>req<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span>res<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span>
 &nbsp; &nbsp;<span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// console.log(req.method, req.url, req.headers)</span>
 &nbsp; &nbsp;res<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">setHeader</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;content-type&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;text/plain;charset=utf-8&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">//设置响应头，文本按纯文本解析</span>
 &nbsp; &nbsp;res<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">write</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;你好&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">// 返回给浏览器内容，可以连续使用write写入</span>
 &nbsp; &nbsp;res<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">end</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">&#39;222222&#39;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span> <span class="token comment" style="font-weight: inherit !important; color: rgb(112, 128, 144);">//返回给浏览器内容并关闭，之后不可以向浏览器写入</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span>server<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">listen</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span>port<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> hostname<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">,</span> <span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token operator" style="font-weight: inherit !important; color: rgb(166, 127, 89);">=&gt;</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">{</span>
 &nbsp; &nbsp;console<span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">.</span><span class="token function" style="font-weight: inherit !important; color: rgb(249, 38, 114);">log</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">(</span><span class="token template-string" style="font-weight: inherit !important;"><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">`服务器运行在 http://</span><span class="token interpolation" style="font-weight: inherit !important;"><span class="token interpolation-punctuation punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">${</span>hostname<span class="token interpolation-punctuation punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span></span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">:</span><span class="token interpolation" style="font-weight: inherit !important;"><span class="token interpolation-punctuation punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">${</span>port<span class="token interpolation-punctuation punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span></span><span class="token string" style="font-weight: inherit !important; color: rgb(120, 171, 18);">/`</span></span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">}</span><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);">)</span></code><p><span class="token punctuation" style="font-weight: inherit !important; color: rgb(153, 153, 153);"><br/></span></p></pre><p><br/></p>